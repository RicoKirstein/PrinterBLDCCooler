{"version":4,"workBenchVersion":"6.0.0","algorithm":"FOC","description":"","checkList":{},"hardwares":{"type":"INVERTER","inverter":{"descVersion":3,"hardwareFamily":"INVERTER","id":"B-G431B-ESC1","label":"B-G431B-ESC1","description":"Discovery kit with STM32G431CB MCU","compatibility":["FOC","sixStep"],"status":"success"},"control":{"descVersion":3,"mcu":{"family":"STM32G4","subfamily":"STM32G431","frequency":170,"ram":32,"IONb":42,"flash":128,"voltageMax":3.6,"voltageMin":1.71,"temperatureMax":125,"temperatureMin":-40,"packageName":"UFQFPN48","define":"STM32G431CBUx","RPN":"STM32G431CB","cortexValue":"ARM Cortex-M4","voltage":0,"ips":[{"modes":[],"name":"ADC1","type":"ADC","version":"G4_aditf5_90_v1_0_Cube","samplingTimeList":[2.5,3.5,6.5,12.5,24.5,47.5,92.5,247.5,640.5],"injectedSamplingTimeList":[],"pins":{"PA2":["IN3"],"PA1":["IN2"],"PF0-OSC_IN":["IN10"],"PA3":["IN4"],"VPOPAMP1":["IN_VPOPAMP1"],"PC15-OSC32_OUT":["EXTI15"],"PA15":["EXTI15"],"PB14":["IN5"],"PB15":["EXTI15"],"PA11":["EXTI11"],"PB12":["IN11"],"PC11":["EXTI11"],"PB11":["EXTI11","IN14"],"PA0":["IN1"],"PB1":["IN12"],"PB0":["IN15"]}},{"modes":[],"name":"ADC2","type":"ADC","version":"G4_aditf5_90_v1_0_Cube","samplingTimeList":[2.5,3.5,6.5,12.5,24.5,47.5,92.5,247.5,640.5],"injectedSamplingTimeList":[],"pins":{"PC4":["IN5"],"PA1":["IN2"],"PB2":["IN12"],"PA4":["IN17"],"PA6":["IN3"],"PA5":["IN13"],"VPOPAMP2":["IN_VPOPAMP2"],"PC15-OSC32_OUT":["EXTI15"],"VPOPAMP3":["IN_VPOPAMP3"],"PA7":["IN4"],"PA15":["EXTI15"],"PB15":["EXTI15","IN15"],"PA11":["EXTI11"],"PC11":["EXTI11"],"PB11":["EXTI11","IN14"],"PF1-OSC_OUT":["IN10"],"PA0":["IN1"]}},{"modes":[],"name":"COMP1","type":"COMP","version":"TSMC90_G4_Rockfish_Cube","invertingRefList":["INM","INM_DAC1OUT1","INM_DAC3OUT1","VREFINT","VREFINT_12","VREFINT_14","VREFINT_34"],"pins":{"PA1":["INP"],"PA4":["INM"],"PA11":["OUT"],"PA6":["OUT"],"PB8-BOOT0":["OUT"],"PA0":["INM","OUT"],"PB1":["INP"]}},{"modes":[],"name":"COMP2","type":"COMP","version":"TSMC90_G4_Rockfish_Cube","invertingRefList":["INM","INM_DAC1OUT2","INM_DAC3OUT2","VREFINT","VREFINT_12","VREFINT_14","VREFINT_34"],"pins":{"PA2":["INM","OUT"],"PA3":["INP"],"PA5":["INM"],"PB9":["OUT"],"PA12":["OUT"],"PA7":["INP","OUT"]}},{"modes":[],"name":"COMP3","type":"COMP","version":"TSMC90_G4_Rockfish_Cube","invertingRefList":["INM","INM_DAC1OUT1","INM_DAC3OUT1","VREFINT","VREFINT_12","VREFINT_14","VREFINT_34"],"pins":{"PB15":["OUT"],"PB7":["OUT"],"PF1-OSC_OUT":["INM"],"PA0":["INP"]}},{"modes":[],"name":"COMP4","type":"COMP","version":"TSMC90_G4_Rockfish_Cube","invertingRefList":["INM","INM_DAC1OUT1","INM_DAC3OUT2","VREFINT","VREFINT_12","VREFINT_14","VREFINT_34"],"pins":{"PB14":["OUT"],"PB2":["INM"],"PB6":["OUT"],"PB1":["OUT"],"PB0":["INP"]}},{"modes":[],"name":"DMA","type":"DMA","version":"STM32G484_dma1_v1_3","pins":{}},{"modes":[],"name":"NVIC","type":"NVIC","version":"STM32G484","pins":{}},{"modes":[],"name":"OPAMP1","type":"OPAMP","version":"G4_tsmc90_fastOpamp_Cube","pgaGainsList":[2,4,8,16,32,64],"pins":{"PA2":["VOUT"],"PA1":["VINP","VINP_SEC"],"PA3":["VINM","VINM0","VINM_SEC","VINP","VINP_SEC"],"VPOPAMP1":["VOUT"],"PA7":["VINP","VINP_SEC"]}},{"modes":[],"name":"OPAMP2","type":"OPAMP","version":"G4_tsmc90_fastOpamp_Cube","pgaGainsList":[2,4,8,16,32,64],"pins":{"PB14":["VINP","VINP_SEC"],"PA6":["VOUT"],"PA5":["VINM","VINM0","VINM_SEC"],"VPOPAMP2":["VOUT"],"PA7":["VINP","VINP_SEC"],"PB0":["VINP","VINP_SEC"]}},{"modes":[],"name":"OPAMP3","type":"OPAMP","version":"G4_tsmc90_fastOpamp_Cube","pgaGainsList":[2,4,8,16,32,64],"pins":{"PA1":["VINP","VINP_SEC"],"PB13":["VINP","VINP_SEC"],"PB2":["VINM","VINM0","VINM_SEC"],"PB10":["VINM","VINM1","VINM_SEC"],"VPOPAMP3":["VOUT"],"PB1":["VOUT"],"PB0":["VINP","VINP_SEC"]}},{"modes":[],"name":"TIM1","type":"TIM1_8G4","version":"gptimer2_v4_x_Cube","pins":{"PC4":["ETR"],"PF0-OSC_IN":["CH3N"],"PA6":["BKIN"],"PA8":["CH1"],"PB9":["CH3N"],"PA7":["CH1N"],"PA9":["CH2"],"PB8-BOOT0":["BKIN"],"PA15":["BKIN"],"PB14":["CH2N"],"PC13":["BKIN","CH1N"],"PA14":["BKIN"],"PB13":["CH1N"],"PB15":["CH3N"],"PA11":["BKIN2","CH1N","CH4"],"PB10":["BKIN"],"PA10":["CH3"],"PB12":["BKIN"],"PA12":["CH2N","ETR"],"PB1":["CH3N"],"PB0":["CH2N"]}},{"modes":[],"name":"TIM15","type":"TIM1_8G4","version":"gptimer2_v4_x_Cube","pins":{"PA2":["CH1"],"PB14":["CH1"],"PA1":["CH1N"],"PA3":["CH2"],"PB15":["CH1N","CH2"],"PA9":["BKIN"]}},{"modes":[],"name":"TIM16","type":"TIM1_8G4","version":"gptimer2_v4_x_Cube","pins":{"PB5":["BKIN"],"PB4":["CH1"],"PA6":["CH1"],"PB6":["CH1N"],"PA13":["CH1N"],"PA12":["CH1"],"PB8-BOOT0":["CH1"]}},{"modes":[],"name":"TIM17","type":"TIM1_8G4","version":"gptimer2_v4_x_Cube","pins":{"PB5":["CH1"],"PB4":["BKIN"],"PB7":["CH1N"],"PA10":["BKIN"],"PB9":["CH1"],"PA7":["CH1"]}},{"modes":[],"name":"TIM2","type":"TIM1_8G4","version":"gptimer2_v4_x_Cube","pins":{"PA15":["CH1","ETR"],"PA2":["CH3"],"PB3":["CH2"],"PA1":["CH2"],"PA3":["CH4"],"PB10":["CH3"],"PA10":["CH4"],"PA5":["CH1","ETR"],"PB11":["CH4"],"PA9":["CH3"],"PA0":["CH1","ETR"]}},{"modes":[],"name":"TIM3","type":"TIM1_8G4","version":"gptimer2_v4_x_Cube","pins":{"PB3":["ETR"],"PA4":["CH2"],"PB5":["CH2"],"PC6":["CH1"],"PB4":["CH1"],"PA6":["CH1"],"PB7":["CH4"],"PA7":["CH2"],"PB1":["CH4"],"PB0":["CH3"]}},{"modes":[],"name":"TIM4","type":"TIM1_8G4","version":"gptimer2_v4_x_Cube","pins":{"PB3":["ETR"],"PA11":["CH1"],"PB7":["CH2"],"PB6":["CH1"],"PA13":["CH3"],"PA8":["ETR"],"PB9":["CH4"],"PA12":["CH2"],"PB8-BOOT0":["CH3"]}},{"modes":[],"name":"TIM6","type":"TIM6_7G4","version":"gptimer2_v4_x_Cube","pins":{}},{"modes":[],"name":"TIM7","type":"TIM6_7G4","version":"gptimer2_v4_x_Cube","pins":{}},{"modes":[],"name":"TIM8","type":"TIM1_8G4","version":"gptimer2_v4_x_Cube","pins":{"PB3":["CH1N"],"PB5":["CH3N"],"PC6":["CH1"],"PB4":["CH2N"],"PA6":["BKIN"],"PB7":["BKIN"],"PB6":["BKIN2","CH1","ETR"],"PB9":["CH3"],"PA7":["CH1N"],"PB8-BOOT0":["CH2"],"PA15":["CH1"],"PC13":["CH4N"],"PA14":["CH2"],"PA10":["BKIN"],"PC11":["CH2N"],"PC10":["CH1N"],"PA0":["BKIN","ETR"],"PB1":["CH3N"],"PB0":["CH2N"]}},{"modes":[],"name":"USART1","type":"USART","version":"sci3_v2_1_Cube","pins":{"PC4":["TX"],"PA11":["CTS","NSS"],"PB7":["RX"],"PA10":["RX"],"PB6":["TX"],"PA8":["CK"],"PA12":["DE","RTS"],"PA9":["TX"]}},{"modes":[],"name":"USART2","type":"USART","version":"sci3_v2_1_Cube","pins":{"PA15":["RX"],"PA2":["TX"],"PB3":["TX"],"PA1":["DE","RTS"],"PA14":["TX"],"PA4":["CK"],"PB5":["CK"],"PA3":["RX"],"PB4":["RX"],"PA0":["CTS","NSS"]}},{"modes":[],"name":"USART3","type":"USART","version":"sci3_v2_1_Cube","pins":{"PB14":["DE","RTS"],"PB13":["CTS","NSS"],"PB10":["TX"],"PA13":["CTS","NSS"],"PB12":["CK"],"PB9":["TX"],"PC11":["RX"],"PB11":["RX"],"PC10":["TX"],"PB8-BOOT0":["RX"]}}],"pins":[{"signals":["ADC1_IN1","ADC2_IN1","COMP1_INM","COMP1_OUT","COMP3_INP","EVENTOUT","GPIO_Analog","GPIO_EXTI0","GPIO_Input","GPIO_Output","RTC_TAMP2","SYS_WKUP1","TIM2_CH1","TIM2_ETR","TIM8_BKIN","TIM8_ETR","USART2_CTS","USART2_NSS"],"name":"PA0"},{"signals":["ADC1_IN2","ADC2_IN2","COMP1_INP","EVENTOUT","GPIO_Analog","GPIO_EXTI1","GPIO_Input","GPIO_Output","OPAMP1_VINP","OPAMP1_VINP_SEC","OPAMP3_VINP","OPAMP3_VINP_SEC","RTC_REFIN","TIM15_CH1N","TIM2_CH2","USART2_DE","USART2_RTS"],"name":"PA1"},{"signals":["CRS_SYNC","DAC1_EXTI10","DAC3_EXTI10","EVENTOUT","GPIO_Analog","GPIO_EXTI10","GPIO_Input","GPIO_Output","I2C2_SMBA","SAI1_D1","SAI1_SD_A","SPI2_MISO","TIM17_BKIN","TIM1_CH3","TIM2_CH4","TIM8_BKIN","UCPD1_DBCC2","USART1_RX"],"name":"PA10"},{"signals":["ADC1_EXTI11","ADC2_EXTI11","COMP1_OUT","EVENTOUT","FDCAN1_RX","GPIO_Analog","GPIO_EXTI11","GPIO_Input","GPIO_Output","I2S2_SD","SPI2_MOSI","TIM1_BKIN2","TIM1_CH1N","TIM1_CH4","TIM4_CH1","USART1_CTS","USART1_NSS","USB_DM"],"name":"PA11"},{"signals":["COMP2_OUT","EVENTOUT","FDCAN1_TX","GPIO_Analog","GPIO_EXTI12","GPIO_Input","GPIO_Output","I2S_CKIN","TIM16_CH1","TIM1_CH2N","TIM1_ETR","TIM4_CH2","USART1_DE","USART1_RTS","USB_DP"],"name":"PA12"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI13","GPIO_Input","GPIO_Output","I2C1_SCL","IR_OUT","SAI1_SD_B","SYS_JTMS-SWDIO","TIM16_CH1N","TIM4_CH3","USART3_CTS","USART3_NSS"],"name":"PA13"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI14","GPIO_Input","GPIO_Output","I2C1_SDA","LPTIM1_OUT","SAI1_FS_B","SYS_JTCK-SWCLK","TIM1_BKIN","TIM8_CH2","USART2_TX"],"name":"PA14"},{"signals":["ADC1_EXTI15","ADC2_EXTI15","EVENTOUT","GPIO_Analog","GPIO_EXTI15","GPIO_Input","GPIO_Output","I2C1_SCL","I2S3_WS","SPI1_NSS","SPI3_NSS","SYS_JTDI","TIM1_BKIN","TIM2_CH1","TIM2_ETR","TIM8_CH1","USART2_RX"],"name":"PA15"},{"signals":["ADC1_IN3","COMP2_INM","COMP2_OUT","EVENTOUT","GPIO_Analog","GPIO_EXTI2","GPIO_Input","GPIO_Output","LPUART1_TX","OPAMP1_VOUT","RCC_LSCO","SYS_WKUP4","TIM15_CH1","TIM2_CH3","UCPD1_FRSTX1","UCPD1_FRSTX2","USART2_TX"],"name":"PA2"},{"signals":["ADC1_IN4","COMP2_INP","EVENTOUT","GPIO_Analog","GPIO_EXTI3","GPIO_Input","GPIO_Output","LPUART1_RX","OPAMP1_VINM","OPAMP1_VINM0","OPAMP1_VINM_SEC","OPAMP1_VINP","OPAMP1_VINP_SEC","SAI1_CK1","SAI1_MCLK_A","TIM15_CH2","TIM2_CH4","USART2_RX"],"name":"PA3"},{"signals":["ADC2_IN17","COMP1_INM","DAC1_OUT1","EVENTOUT","GPIO_Analog","GPIO_EXTI4","GPIO_Input","GPIO_Output","I2S3_WS","SAI1_FS_B","SPI1_NSS","SPI3_NSS","TIM3_CH2","USART2_CK"],"name":"PA4"},{"signals":["ADC2_IN13","COMP2_INM","DAC1_OUT2","EVENTOUT","GPIO_Analog","GPIO_EXTI5","GPIO_Input","GPIO_Output","OPAMP2_VINM","OPAMP2_VINM0","OPAMP2_VINM_SEC","SPI1_SCK","TIM2_CH1","TIM2_ETR","UCPD1_FRSTX1","UCPD1_FRSTX2"],"name":"PA5"},{"signals":["ADC2_IN3","COMP1_OUT","EVENTOUT","GPIO_Analog","GPIO_EXTI6","GPIO_Input","GPIO_Output","LPUART1_CTS","OPAMP2_VOUT","SPI1_MISO","TIM16_CH1","TIM1_BKIN","TIM3_CH1","TIM8_BKIN"],"name":"PA6"},{"signals":["ADC2_IN4","COMP2_INP","COMP2_OUT","EVENTOUT","GPIO_Analog","GPIO_EXTI7","GPIO_Input","GPIO_Output","OPAMP1_VINP","OPAMP1_VINP_SEC","OPAMP2_VINP","OPAMP2_VINP_SEC","SPI1_MOSI","TIM17_CH1","TIM1_CH1N","TIM3_CH2","TIM8_CH1N","UCPD1_FRSTX1","UCPD1_FRSTX2"],"name":"PA7"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI8","GPIO_Input","GPIO_Output","I2C2_SDA","I2C3_SCL","I2S2_MCK","RCC_MCO","SAI1_CK2","SAI1_SCK_A","TIM1_CH1","TIM4_ETR","USART1_CK"],"name":"PA8"},{"signals":["DAC1_EXTI9","DAC3_EXTI9","EVENTOUT","GPIO_Analog","GPIO_EXTI9","GPIO_Input","GPIO_Output","I2C2_SCL","I2C3_SMBA","I2S3_MCK","SAI1_FS_A","TIM15_BKIN","TIM1_CH2","TIM2_CH3","UCPD1_DBCC1","USART1_TX"],"name":"PA9"},{"signals":["ADC1_IN15","COMP4_INP","EVENTOUT","GPIO_Analog","GPIO_EXTI0","GPIO_Input","GPIO_Output","OPAMP2_VINP","OPAMP2_VINP_SEC","OPAMP3_VINP","OPAMP3_VINP_SEC","TIM1_CH2N","TIM3_CH3","TIM8_CH2N","UCPD1_FRSTX1","UCPD1_FRSTX2"],"name":"PB0"},{"signals":["ADC1_IN12","COMP1_INP","COMP4_OUT","EVENTOUT","GPIO_Analog","GPIO_EXTI1","GPIO_Input","GPIO_Output","LPUART1_DE","LPUART1_RTS","OPAMP3_VOUT","TIM1_CH3N","TIM3_CH4","TIM8_CH3N"],"name":"PB1"},{"signals":["DAC1_EXTI10","DAC3_EXTI10","EVENTOUT","GPIO_Analog","GPIO_EXTI10","GPIO_Input","GPIO_Output","LPUART1_RX","OPAMP3_VINM","OPAMP3_VINM1","OPAMP3_VINM_SEC","SAI1_SCK_A","TIM1_BKIN","TIM2_CH3","USART3_TX"],"name":"PB10"},{"signals":["ADC1_EXTI11","ADC1_IN14","ADC2_EXTI11","ADC2_IN14","EVENTOUT","GPIO_Analog","GPIO_EXTI11","GPIO_Input","GPIO_Output","LPUART1_TX","TIM2_CH4","USART3_RX"],"name":"PB11"},{"signals":["ADC1_IN11","EVENTOUT","GPIO_Analog","GPIO_EXTI12","GPIO_Input","GPIO_Output","I2C2_SMBA","I2S2_WS","LPUART1_DE","LPUART1_RTS","SPI2_NSS","TIM1_BKIN","USART3_CK"],"name":"PB12"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI13","GPIO_Input","GPIO_Output","I2S2_CK","LPUART1_CTS","OPAMP3_VINP","OPAMP3_VINP_SEC","SPI2_SCK","TIM1_CH1N","USART3_CTS","USART3_NSS"],"name":"PB13"},{"signals":["ADC1_IN5","COMP4_OUT","EVENTOUT","GPIO_Analog","GPIO_EXTI14","GPIO_Input","GPIO_Output","OPAMP2_VINP","OPAMP2_VINP_SEC","SPI2_MISO","TIM15_CH1","TIM1_CH2N","USART3_DE","USART3_RTS"],"name":"PB14"},{"signals":["ADC1_EXTI15","ADC2_EXTI15","ADC2_IN15","COMP3_OUT","EVENTOUT","GPIO_Analog","GPIO_EXTI15","GPIO_Input","GPIO_Output","I2S2_SD","RTC_REFIN","SPI2_MOSI","TIM15_CH1N","TIM15_CH2","TIM1_CH3N"],"name":"PB15"},{"signals":["ADC2_IN12","COMP4_INM","EVENTOUT","GPIO_Analog","GPIO_EXTI2","GPIO_Input","GPIO_Output","I2C3_SMBA","LPTIM1_OUT","OPAMP3_VINM","OPAMP3_VINM0","OPAMP3_VINM_SEC","RTC_OUT2"],"name":"PB2"},{"signals":["CRS_SYNC","EVENTOUT","GPIO_Analog","GPIO_EXTI3","GPIO_Input","GPIO_Output","I2S3_CK","SAI1_SCK_B","SPI1_SCK","SPI3_SCK","SYS_JTDO-SWO","TIM2_CH2","TIM3_ETR","TIM4_ETR","TIM8_CH1N","USART2_TX"],"name":"PB3"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI4","GPIO_Input","GPIO_Output","SAI1_MCLK_B","SPI1_MISO","SPI3_MISO","SYS_JTRST","TIM16_CH1","TIM17_BKIN","TIM3_CH1","TIM8_CH2N","UCPD1_CC2","USART2_RX"],"name":"PB4"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI5","GPIO_Input","GPIO_Output","I2C1_SMBA","I2C3_SDA","I2S3_SD","LPTIM1_IN1","SAI1_SD_B","SPI1_MOSI","SPI3_MOSI","TIM16_BKIN","TIM17_CH1","TIM3_CH2","TIM8_CH3N","USART2_CK"],"name":"PB5"},{"signals":["COMP4_OUT","EVENTOUT","GPIO_Analog","GPIO_EXTI6","GPIO_Input","GPIO_Output","LPTIM1_ETR","SAI1_FS_B","TIM16_CH1N","TIM4_CH1","TIM8_BKIN2","TIM8_CH1","TIM8_ETR","UCPD1_CC1","USART1_TX"],"name":"PB6"},{"signals":["COMP3_OUT","EVENTOUT","GPIO_Analog","GPIO_EXTI7","GPIO_Input","GPIO_Output","I2C1_SDA","LPTIM1_IN2","SYS_PVD_IN","TIM17_CH1N","TIM3_CH4","TIM4_CH2","TIM8_BKIN","USART1_RX"],"name":"PB7"},{"signals":["COMP1_OUT","EVENTOUT","FDCAN1_RX","GPIO_Analog","GPIO_EXTI8","GPIO_Input","GPIO_Output","I2C1_SCL","SAI1_CK1","SAI1_MCLK_A","TIM16_CH1","TIM1_BKIN","TIM4_CH3","TIM8_CH2","USART3_RX"],"name":"PB8-BOOT0"},{"signals":["COMP2_OUT","DAC1_EXTI9","DAC3_EXTI9","EVENTOUT","FDCAN1_TX","GPIO_Analog","GPIO_EXTI9","GPIO_Input","GPIO_Output","I2C1_SDA","IR_OUT","SAI1_D2","SAI1_FS_A","TIM17_CH1","TIM1_CH3N","TIM4_CH4","TIM8_CH3","USART3_TX"],"name":"PB9"},{"signals":["DAC1_EXTI10","DAC3_EXTI10","EVENTOUT","GPIO_Analog","GPIO_EXTI10","GPIO_Input","GPIO_Output","I2S3_CK","SPI3_SCK","TIM8_CH1N","USART3_TX"],"name":"PC10"},{"signals":["ADC1_EXTI11","ADC2_EXTI11","EVENTOUT","GPIO_Analog","GPIO_EXTI11","GPIO_Input","GPIO_Output","I2C3_SDA","SPI3_MISO","TIM8_CH2N","USART3_RX"],"name":"PC11"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI13","GPIO_Input","GPIO_Output","RTC_OUT1","RTC_TAMP1","RTC_TS","SYS_WKUP2","TIM1_BKIN","TIM1_CH1N","TIM8_CH4N"],"name":"PC13"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI14","GPIO_Input","GPIO_Output","RCC_OSC32_IN"],"name":"PC14-OSC32_IN"},{"signals":["ADC1_EXTI15","ADC2_EXTI15","EVENTOUT","GPIO_Analog","GPIO_EXTI15","GPIO_Input","GPIO_Output","RCC_OSC32_OUT"],"name":"PC15-OSC32_OUT"},{"signals":["ADC2_IN5","EVENTOUT","GPIO_Analog","GPIO_EXTI4","GPIO_Input","GPIO_Output","I2C2_SCL","TIM1_ETR","USART1_TX"],"name":"PC4"},{"signals":["EVENTOUT","GPIO_Analog","GPIO_EXTI6","GPIO_Input","GPIO_Output","I2S2_MCK","TIM3_CH1","TIM8_CH1"],"name":"PC6"},{"signals":["ADC1_IN10","EVENTOUT","GPIO_Analog","GPIO_EXTI0","GPIO_Input","GPIO_Output","I2C2_SDA","I2S2_WS","RCC_OSC_IN","SPI2_NSS","TIM1_CH3N"],"name":"PF0-OSC_IN"},{"signals":["ADC2_IN10","COMP3_INM","EVENTOUT","GPIO_Analog","GPIO_EXTI1","GPIO_Input","GPIO_Output","I2S2_CK","RCC_OSC_OUT","SPI2_SCK"],"name":"PF1-OSC_OUT"},{"signals":["DAC1_EXTI10","DAC3_EXTI10","EVENTOUT","GPIO_Analog","GPIO_EXTI10","GPIO_Input","GPIO_Output","RCC_MCO"],"name":"PG10-NRST"},{"signals":[],"name":"VBAT"},{"signals":[],"name":"VDD"},{"signals":[],"name":"VDDA"},{"signals":["ADC1_IN_VPOPAMP1","OPAMP1_VOUT"],"name":"VPOPAMP1"},{"signals":["ADC2_IN_VPOPAMP2","OPAMP2_VOUT"],"name":"VPOPAMP2"},{"signals":["ADC2_IN_VPOPAMP3","OPAMP3_VOUT"],"name":"VPOPAMP3"},{"signals":["VREFBUF_OUT"],"name":"VREF+"}],"hardwareFamily":"MCU","id":"STM32G431CBUx","label":"STM32G431CBUx","description":"","compatibility":["FOC","sixStep"]},"clockSource":"8_crystal","clockFrequency":170,"connectors":[],"features":[{"name":"StartStopButton","type":"Button","hwVariants":[{"type":"PushButton","help":"","signals":{"BUTTON_TRIGGER":[{"name":"PC10","help":"","cost":0}]},"buttonTriggerEdge":"Falling Edge","buttonGpioConfig":"No Pull up - No Pull down"}]},{"name":"SerialPortCommunication","type":"SerialPortCommunication","hwVariants":[{"type":"Uart2WiresCommunication","help":"","signals":{"UART_TX":[{"name":"PB3","help":"","cost":0}],"UART_RX":[{"name":"PB4","help":"","cost":0}]}}]}],"hardwareFamily":"CONTROL","id":"B-G431B-ESC1","label":"B-G431B-ESC1","description":"Discovery kit with STM32G431CB MCU","compatibility":["FOC","sixStep"]},"power":[{"descVersion":3,"motorDrives":[{"name":"M1","minRatedVoltage":8,"maxRatedVoltage":28,"maxRatedCurrent":40,"connectorType":"None","features":[{"name":"CurrentSensing","type":"CurrentSensing","tRise":1000,"hwVariants":[{"type":"ThreeShunt_RawCurrents_Differential_InternalGain","help":"How to enable this variant","signals":{"CURRENT_SHUNT_UP":[{"name":"PA1","help":"","cost":0}],"CURRENT_SHUNT_VP":[{"name":"PA7","help":"","cost":0}],"CURRENT_SHUNT_WP":[{"name":"PB0","help":"","cost":0}],"CURRENT_SHUNT_UN":[{"name":"PA3","help":"","cost":0}],"CURRENT_SHUNT_VN":[{"name":"PA5","help":"","cost":0}],"CURRENT_SHUNT_WN":[{"name":"PB2","help":"","cost":0}]},"shuntResistor":0.003,"amplifyingNetworkImax":40,"amplifyingNetworkVm":3.3,"amplifyingNetworkPrating":1.4,"offsetNetworkAttenuation":0.571,"opAmpGain":16,"polarizationOffset":2.057}]},{"name":"PhaseVoltageGeneration","type":"PhaseVoltageGeneration","driverName":"L6387E","driverPN":"L6387E","minDeadTime":700,"maxSwitchingFreq":50,"tNoise":1000,"hwVariants":[{"type":"DrivingHighAndLowSides","help":"How to enable this variant","signals":{"PWM_CHU_H":[{"name":"PA8","help":"","cost":0}],"PWM_CHV_H":[{"name":"PA9","help":"","cost":0}],"PWM_CHW_H":[{"name":"PA10","help":"","cost":0}],"PWM_CHU_L":[{"name":"PC13","help":"","cost":0}],"PWM_CHV_L":[{"name":"PA12","help":"","cost":0}],"PWM_CHW_L":[{"name":"PB15","help":"","cost":0}]},"highSideSwitchesDrivingPolarity":"Active high","lowSideSwitchesDrivingPolarity":"Active high","deadTime":800}]},{"name":"SpeedAndPositionSensing","type":"SpeedAndPositionSensing","hwVariants":[{"type":"HallEffectSensor","help":"SW 9 and 16 to consider","signals":{"HALLSENSOR_H1":[{"name":"PB6","help":"","cost":0}],"HALLSENSOR_H2":[{"name":"PB7","help":"","cost":0}],"HALLSENSOR_H3":[{"name":"PB8-BOOT0","help":"","cost":0}]}},{"type":"QuadratureEncoderRelative","help":"SW 9 and 16 to consider","signals":{"QENC_A":[{"name":"PB6","help":"","cost":0}],"QENC_B":[{"name":"PB7","help":"","cost":0}]}},{"type":"QuadratureEncoderAbsolute","help":"SW 9 and 16 to consider","signals":{"QENC_A":[{"name":"PB6","help":"","cost":0}],"QENC_B":[{"name":"PB7","help":"","cost":0}],"QENC_Z":[{"name":"PB8-BOOT0","help":"","cost":0}]}}]},{"name":"VBusSensing","type":"VBusSensing","busVoltageDivider":10.389,"hwVariants":[{"type":"VBusSensing","help":"","signals":{"VBUS":[{"name":"PA0","help":"","cost":0}]},"busVoltageDivider":10.389,"busVoltageDividerR1":169,"busVoltageDividerR2":18}]},{"name":"TemperatureSensing","type":"TemperatureSensing","hwVariants":[{"type":"NTCThermistor","help":"Jumper of SW3 in position 2-3.","signals":{"TEMPERATURE_NTC":[{"name":"PB14","help":"","cost":0}]},"v0":1400,"t0":25,"gain":19,"maxSensorTemperature":70}]}],"compatibility":["FOC","sixStep"]}],"connectorTypes":["None"],"hardwareFamily":"POWER","id":"B-G431B-ESC1","label":"B-G431B-ESC1","description":"Discovery kit with STM32G431CB MCU","compatibility":["FOC","sixStep"]}],"motor":[{"polePairs":1,"nominalCurrent":6,"nominalDCVoltage":23.437255859375,"rs":0.5962775349617004,"ls":0.13913142902310938,"magneticStructure":{"type":"SM-PMSM"},"BEmfConstant":0.5500734448432922,"inertia":2.0307254544604803,"friction":5.260946181806503,"maxRatedSpeed":31116,"motorProfiler":{"ctrl_board":"B-G431B-ESC1","pwr_board":"B-G431B-ESC1","operating_condition":{"cutoff_frequency":6000,"pwm_frequency":30000,"foc_rate":1},"mechanical":{"acceleration":500,"max_speed_startup":5982}},"hardwareFamily":"MOTOR","id":"userMotor.WM7040-24V.xml","label":"WM7040-24V","description":"Steady motor blower ","compatibility":["FOC","sixStep"],"status":"success"}],"connections":[{"motor":0,"power":0,"drive":0,"ctrlConn":0}],"constrains":{"motors":[{"motor":"M1","features":[{"name":"CurrentSensing","hwVariants":[{"name":"ThreeShunt_RawCurrents_Differential_InternalGain","swVariants":[{"name":"TripleOPAMPs","solutions":[{"ip":["OPAMP1","OPAMP2","OPAMP3"],"signals":[{"name":"CURRENT_SHUNT_UP","pin":"PA1","peripheral":"OPAMP1_VINP"},{"name":"CURRENT_SHUNT_UN","pin":"PA3","peripheral":"OPAMP1_VINM0"},{"name":"CURRENT_SHUNT_VP","pin":"PA7","peripheral":"OPAMP2_VINP"},{"name":"CURRENT_SHUNT_VN","pin":"PA5","peripheral":"OPAMP2_VINM0"},{"name":"CURRENT_SHUNT_WP","pin":"PB0","peripheral":"OPAMP3_VINP"},{"name":"CURRENT_SHUNT_WN","pin":"PB2","peripheral":"OPAMP3_VINM0"}],"cost":0,"ADCVariants":[{"name":"DualADCs","solutions":[{"ip":["ADC1","ADC2"],"sharedSignal":"OPAMP3_OUT","signals":[{"name":"OPAMP1_OUT","pin":"PA2","peripheral":"ADC1_IN3"},{"name":"OPAMP2_OUT","pin":"PA6","peripheral":"ADC2_IN3"},{"name":"OPAMP3_OUT","pin":"VPOPAMP3","peripheral":"ADC2_IN_VPOPAMP3"},{"name":"OPAMP3_OUT","pin":"PB1","peripheral":"ADC1_IN12"}],"cost":0}]}]}]}]}]},{"name":"PhaseVoltageGeneration","hwVariants":[{"name":"DrivingHighAndLowSides","swVariants":[{"name":"SingleTimer","solutions":[{"ip":["TIM1"],"signals":[{"name":"PWM_CHU_H","pin":"PA8","peripheral":"TIM1_CH1"},{"name":"PWM_CHV_H","pin":"PA9","peripheral":"TIM1_CH2"},{"name":"PWM_CHW_H","pin":"PA10","peripheral":"TIM1_CH3"},{"name":"PWM_CHU_L","pin":"PC13","peripheral":"TIM1_CH1N"},{"name":"PWM_CHV_L","pin":"PA12","peripheral":"TIM1_CH2N"},{"name":"PWM_CHW_L","pin":"PB15","peripheral":"TIM1_CH3N"}],"cost":0}]}]}]},{"name":"SpeedAndPositionSensing","hwVariants":[{"name":"HallEffectSensor","swVariants":[{"name":"SingleTimer","solutions":[{"ip":["TIM4"],"signals":[{"name":"HALLSENSOR_H1","pin":"PB6","peripheral":"TIM4_CH1"},{"name":"HALLSENSOR_H2","pin":"PB7","peripheral":"TIM4_CH2"},{"name":"HALLSENSOR_H3","pin":"PB8-BOOT0","peripheral":"TIM4_CH3"}],"cost":0}]}]},{"name":"QuadratureEncoderRelative","swVariants":[{"name":"SingleTimer","solutions":[{"ip":["TIM4"],"signals":[{"name":"QENC_A","pin":"PB6","peripheral":"TIM4_CH1"},{"name":"QENC_B","pin":"PB7","peripheral":"TIM4_CH2"}],"cost":0}]}]}]},{"name":"VBusSensing","hwVariants":[{"name":"VBusSensing","swVariants":[{"name":"SingleWire","solutions":[{"ip":["ADC1"],"signals":[{"name":"VBUS","pin":"PA0","peripheral":"ADC1_IN1"}],"cost":0},{"ip":["ADC2"],"signals":[{"name":"VBUS","pin":"PA0","peripheral":"ADC2_IN1"}],"cost":0}]}]}]},{"name":"TemperatureSensing","hwVariants":[{"name":"NTCThermistor","swVariants":[{"name":"SingleWire","solutions":[{"ip":["ADC1"],"signals":[{"name":"TEMPERATURE_NTC","pin":"PB14","peripheral":"ADC1_IN5"}],"cost":0}]}]}]}]}]}},"details":{"steps":{"motor_0":{"polePairs":null,"mmsType":"","rs":null,"ls":null,"mmsLd_lq_ratio":null,"maxCurrent":3,"maxDCVoltage":28,"BEmfConstant":null,"inertia":null,"friction":null,"maxRatedSpeed":null,"hasHallSensor":true,"hallSensor":{"sensorsDisplacement":60,"placementElectricalAngle":180},"hasQuadratureEncoder":false,"quadratureEncoder":{"pulsesPerMechanicalRevolution":null,"hasIndexPin":false}},"speedSensing_0":{"mainSensorParams":{"speedSensorMode":"hall","maxAllowedErrors":null,"sensorParams":{"_tag":"hall","speedFIFODepth":null,"inputFilterDuration":null,"useMTPA":true}},"auxSensorParams":{"enableAuxSensing":true,"speedSensorMode":"pll","maxAllowedErrors":null,"sensorParams":{"_tag":"pll","sensorlessSpeedFeedback":true,"varianceThreshold":null,"loopAverageSpeedDepth":null,"observerAverageSpeedDepth":null,"autoCalculate":true,"g1Observer":null,"g2Observer":null,"bemfTolerance":null,"bemfGain":null,"F1":null,"F2":null,"pll":{"KpKi":{"P":{"num":null,"den":null},"I":{"num":null,"den":null}}}}},"startupParams":{"startupProfile":{"initialElectricalAngle":null,"pts":[{"duration":null,"speedTarget":null,"currVoltTarget":null},{"duration":null,"speedTarget":null,"currVoltTarget":null},{"duration":null,"speedTarget":null,"currVoltTarget":null},{"duration":null,"speedTarget":null,"currVoltTarget":null},{"duration":null,"speedTarget":null,"currVoltTarget":null},{"duration":null,"speedTarget":null,"currVoltTarget":null},{"duration":null,"speedTarget":null,"currVoltTarget":null}],"sensorlessStartingPhase":null,"onTheFlyStartupEnabled":false},"startupExitCond":{"startUpSpeedThresh":null,"consecutiveCorrectMeasures":null,"speedBandToleranceLowerLimit":null,"speedBandToleranceUpperLimit":null},"FOCSwitchOver":{"revupToFocSwitchOverEnabled":true,"focSwitchOverDuration":null}}},"powerSupply_0":{"nominalDcBusVoltage":24,"nominalCurrent":null,"maxCurrent_pk":null,"icl":{"enable":false,"polarity":"","changeStateAfter":null}}}}}